<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="utf-8" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="element" data-model-id="172:2">
      <div class="overlap-group">
        <div class="overlap">
          <div class="background-image"></div>
          <div class="title">당신에게 어울리는</div>
          <div class="sub-title">sub-title-default</div>
          <img class="start-icon-small" src="https://c.animaapp.com/AUxvzaXH/img/start-icon-small.svg" />
          <img class="start-icon-large" src="https://c.animaapp.com/AUxvzaXH/img/start-icon-large.svg" />
          <img class="image" src="https://c.animaapp.com/AUxvzaXH/img/------.png" />
          <svg class="img" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="white" viewBox="0 0 16 16">
            <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5A1.5 1.5 0 0 0 2.5 14.5h11a1.5 1.5 0 0 0 1.5-1.5v-2.5a.5.5 0 0 1 1 0v2.5A2.5 2.5 0 0 1 13.5 15.5h-11A2.5 2.5 0 0 1 0 12.9v-2.5a.5.5 0 0 1 .5-.5z"/>
            <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
          </svg>
        </div>
        <p class="hash"><span class="text-wrapper">#</span> <span class="span"> 관능적</span></p>
        <p class="p"><span class="text-wrapper">#</span> <span class="span"> 시원함</span></p>
        <div class="notes-container">
          <div class="note-group top-note-group">
            <div class="note-title">Top</div>
            <div class="note-text">Lemon</div>
          </div>
          <div class="note-group middle-note-group">
            <div class="note-title">Middle</div>
            <div class="note-text">Middle</div>
          </div>
          <div class="note-group base-note-group">
            <div class="note-title">Base</div>
            <div class="note-text">Base</div>
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <script>
      // 인덱스별 데이터
      const data = [
        { // 인덱스 1
          subTitle: "Lemonula",
          title: "당신에게 어울리는",
          hash: "에너지",
          hash1: "상큼함",
          topNote: "Lemon",
          middleNote: "Rose",
          baseNote: "Amber",
          image: "./img/lemonula.png",
              colors: {
                overlapGroup: "#b28a00",
                overlap: "#e6c74c"
              }
        },
        { // 인덱스 2
          subTitle: "Flolarin",
          title: "당신에게 어울리는",
          hash: "달콤함",
          hash1: "상큼함",
          topNote: "Cucumber",
          middleNote: "Lavender",
          baseNote: "Cedarwood",
          image: "./img/flolarin.png",    
          colors: {
            overlapGroup: "#b8721d",
            overlap: "#f7d08a"
          }
        },
        { // 인덱스 3
          subTitle: "Essentria",
          title: "당신에게 어울리는",
          hash: "플로럴",
          hash1: "로맨틱",
          topNote: "Raspberry",
          middleNote: "Rose",
          baseNote: "Musk",
          image: "./img/essentria.png",    
          colors: {
            overlapGroup: "#7c3fa6",
            overlap: "#d6b3f7"
          }
        },
        { // 인덱스 4
          subTitle: "Lumina",
          title: "당신에게 어울리는",
          hash: "신비적",
          hash1: "세련된",
          topNote: "Bergamot",
          middleNote: "Jasmine",
          baseNote: "Amber",
          image: "./img/Lumina.png",   
          colors: {
            overlapGroup: "#145c69",
            overlap: "#b97a2b"
          }
        },
        { // 인덱스 5
          subTitle: "Cool Water",
          title: "당신에게 어울리는",
          hash: "시원함",
          hash1: "남성적",
          topNote: "Bergamot",
          middleNote: "Geranium",
          baseNote: "Vetiver",
          image: "./img/coolwater.png",    
          colors: {
            overlapGroup: "#1a3a6b",
            overlap: "#4a7dc7"
          }
        },
        { // 인덱스 6
          subTitle: "Maruit",
          title: "당신에게 어울리는",
          hash: "도시적",
          hash1: "청량감",
          topNote: "Mint",
          middleNote: "Lavender",
          baseNote: "Sandalwood",
          image: "./img/maruit.png",    
          colors: {
            overlapGroup: "#23446d",
            overlap: "#6bb0d6"
          }
        },  
        { // 인덱스 7
          subTitle: "Nectarua",
          title: "당신에게 어울리는",
          hash: "관능적",
          hash1: "시원함",
          topNote: "Mandarin",
          middleNote: "Rose",
          baseNote: "Amber",
          image: "./img/nectarua.png",    
          colors: {
            overlapGroup: "#a86e1a",
            overlap: "#ffd07b"
          }
        },
        { // 인덱스 8
          subTitle: "Croloys",
          title: "당신에게 어울리는",
          hash: "관능적",
          hash1: "시원함",
          topNote: "Marine",
          middleNote: "Sage",
          baseNote: "Musk",
          image: "./img/croloys.png",    
          colors: {
            overlapGroup: "#132f5a",
            overlap: "#3559A6"
          }
        },
      ];

      // URL 파라미터에서 인덱스 읽기 (예: ?idx=1)
      const params = new URLSearchParams(window.location.search);
      let idx = parseInt(params.get('idx')) || 1;
      idx = Math.max(1, Math.min(data.length, idx));

      // 해당 인덱스 데이터 가져오기
      const item = data[idx - 1] || data[0];

      // 각 요소에 값 적용
      document.querySelector('.sub-title').textContent = item.subTitle;
      document.querySelector('.title').textContent = item.title;
      document.querySelector('.hash .span').textContent = item.hash;
      document.querySelector('.p .span').textContent = item.hash1;
      document.querySelector('.top-note-group .note-text').textContent = item.topNote;
      document.querySelector('.middle-note-group .note-text').textContent = item.middleNote;
      document.querySelector('.base-note-group .note-text').textContent = item.baseNote;
      document.querySelector('.image').src = item.image;
      document.querySelector('.overlap-group').style.backgroundColor = item.colors.overlapGroup;
      document.querySelector('.overlap').style.backgroundColor = item.colors.overlap;

      // .img 클릭 시 화면 전체(body)를 이미지로 저장
      document.querySelector('.img').addEventListener('click', function() {
        html2canvas(document.body).then(function(canvas) {
          const link = document.createElement('a');
          link.href = canvas.toDataURL('image/png');
          link.download = 'perfume_result.png';
          document.body.appendChild(link);
          link.click();
          document.body.removeChild(link);
        });
      });
    </script>
  </body>
</html>
